<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Henry Li">





<title>Dockerç¬”è®° | Henry&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        <!-- MathJaxé…ç½®ï¼Œå¯é€šè¿‡å•ç¾å…ƒç¬¦å·ä¹¦å†™è¡Œå†…å…¬å¼ç­‰ -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- ç»™MathJaxå…ƒç´ æ·»åŠ has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- é€šè¿‡è¿æ¥CDNåŠ è½½MathJaxçš„jsä»£ç  -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    


<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const pagebody = document.getElementsByTagName('body')[0]

            function setTheme(status) {

                if (status === 'dark') {
                    window.sessionStorage.theme = 'dark'
                    pagebody.classList.add('dark-theme');

                } else if (status === 'light') {
                    window.sessionStorage.theme = 'light'
                    pagebody.classList.remove('dark-theme');
                }
            };

            setTheme(window.sessionStorage.theme)
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Henry&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                <a class="menu-item" href="/archives">æ–‡ç« </a>
                
                <a class="menu-item" href="/category">åˆ†ç±»</a>
                
                <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                <a class="menu-item" href="/about">å…³äº</a>
                
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Henry&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">
                    <svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M4.5 17.27q-.213 0-.356-.145T4 16.768t.144-.356t.356-.143h15q.213 0 .356.144q.144.144.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.144T4 11.999t.144-.356t.356-.143h15q.213 0 .356.144t.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.143Q4 7.443 4 7.23t.144-.356t.356-.143h15q.213 0 .356.144T20 7.23t-.144.356t-.356.144z"/></svg>
                    <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><!-- Icon from Material Symbols Light by Google - https://github.com/google/material-design-icons/blob/master/LICENSE --><path fill="currentColor" d="m12 12.708l-5.246 5.246q-.14.14-.344.15t-.364-.15t-.16-.354t.16-.354L11.292 12L6.046 6.754q-.14-.14-.15-.344t.15-.364t.354-.16t.354.16L12 11.292l5.246-5.246q.14-.14.345-.15q.203-.01.363.15t.16.354t-.16.354L12.708 12l5.246 5.246q.14.14.15.345q.01.203-.15.363t-.354.16t-.354-.16z"/></svg>
                </div>
            </div>
            <div class="menu" id="mobile-menu">
                
                <a class="menu-item" href="/archives">æ–‡ç« </a>
                
                <a class="menu-item" href="/category">åˆ†ç±»</a>
                
                <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                <a class="menu-item" href="/about">å…³äº</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">å…³é—­ç›®å½•</a>
        <a onclick="go_top()">å›åˆ°é¡¶éƒ¨</a>
        <a onclick="go_bottom()">å‰å¾€åº•éƒ¨</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // ä¸º 6 æ—¶å±•å¼€æ‰€æœ‰
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // è¿™ä¸ªå€¼æ˜¯ç”± tocbot æºç é‡Œå®šä¹‰çš„ scrollSmoothDuration å¾—æ¥çš„
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 6
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        // b.innerText = expanded ? 'Expand all' : 'Collapse all';
        b.innerText = expanded ? 'å±•å¼€ç›®å½•' : 'å…³é—­ç›®å½•';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Dockerç¬”è®°</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Henry Li</a>&nbsp;&nbsp;
                    

                    
                        <span class="post-time">
                        Date: <a href="#">2025-08-24</a>&nbsp;&nbsp;
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E6%8A%80%E6%9C%AF%E9%80%9F%E8%AE%B0/">æŠ€æœ¯é€Ÿè®°</a>
                            &nbsp;&nbsp;
                        </span>
                    
                    <!-- æ·»åŠ æœ¬æ–‡é˜…è¯»é‡ -->
                        <span id="busuanzi_container_page_pv">
                        æœ¬æ–‡é˜…è¯»é‡: <span id="busuanzi_value_page_pv"></span> æ¬¡
                        </span>

                </div>
            
        </header>

        <div class="post-content">
            <h1 id="1ã€ä»‹ç»"><a href="#1ã€ä»‹ç»" class="headerlink" title="1ã€ä»‹ç»"></a>1ã€ä»‹ç»</h1><p>è™šæ‹ŸåŒ–æŠ€æœ¯ä¸»è¦ç”¨æ¥è§£å†³<u>é«˜æ€§èƒ½çš„ç‰©ç†ç¡¬ä»¶äº§èƒ½è¿‡å‰©</u>å’Œ<u>è€çš„æ—§çš„ç¡¬ä»¶äº§èƒ½è¿‡ä½</u>çš„é‡ç»„é‡ç”¨</p>
<p>Dockeré¡¹ç›®çš„ç›®æ ‡æ˜¯å®ç°è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼ŒDockerçš„åŸºç¡€æ˜¯Linuxå®¹å™¨ï¼ˆLXCï¼‰ç­‰æŠ€æœ¯</p>
<p>Securely buildï¼Œshare and run any applicationï¼Œanywhere</p>
<p><strong>æ‰“åŒ…</strong>ï¼šå°±æ˜¯æŠŠä½ è½¯ä»¶è¿è¡Œæ‰€éœ€çš„ä¾èµ–ã€ç¬¬ä¸‰æ–¹åº“ã€è½¯ä»¶æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªå®‰è£…åŒ… </p>
<p><strong>åˆ†å‘</strong>ï¼šä½ å¯ä»¥æŠŠä½ æ‰“åŒ…å¥½çš„â€œå®‰è£…åŒ…â€ä¸Šä¼ åˆ°ä¸€ä¸ªé•œåƒä»“åº“ï¼Œå…¶ä»–äººå¯ä»¥éå¸¸æ–¹ä¾¿çš„è·å–å’Œå®‰è£… </p>
<p><strong>éƒ¨ç½²</strong>ï¼šæ‹¿ç€â€œå®‰è£…åŒ…â€å°±å¯ä»¥ä¸€ä¸ªå‘½ä»¤è¿è¡Œèµ·æ¥ä½ çš„åº”ç”¨ï¼Œè‡ªåŠ¨æ¨¡æ‹Ÿå‡ºä¸€æ‘¸ä¸€æ ·çš„è¿è¡Œç¯å¢ƒï¼Œä¸ç®¡æ˜¯åœ¨ Windows&#x2F;Mac&#x2F;Linuxã€‚</p>
<p><strong>Dockerfile</strong>ï¼šåƒè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œç”¨æ¥åˆ›å»ºé•œåƒ</p>
<p><strong>é•œåƒ&#x2F;lmage</strong>ï¼šDockerå°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€éœ€çš„ä¾èµ–ã€å‡½æ•°åº“ã€ç¯å¢ƒã€é…ç½®ç­‰æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç§°ä¸ºé•œåƒã€‚</p>
<p><strong>å®¹å™¨&#x2F;Container</strong>ï¼šé•œåƒä¸­çš„åº”ç”¨ç¨‹åºè¿è¡Œåå½¢æˆçš„è¿›ç¨‹å°±æ˜¯å®¹å™¨ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå¯¹è±¡ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚åªæ˜¯Dockerä¼šç»™å®¹å™¨åšéš”ç¦»ï¼Œåˆå¯¹å¤–ä¸å¯è§ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p>
<p><img src="/../images/docker/docker.png" alt="dockeræ¶æ„"></p>
<h1 id="2ã€Dockerå‘½ä»¤"><a href="#2ã€Dockerå‘½ä»¤" class="headerlink" title="2ã€Dockerå‘½ä»¤"></a>2ã€Dockerå‘½ä»¤</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨DockeræœåŠ¡</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">systemctl start docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœæ­¢DockeræœåŠ¡</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">systemctl stop docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å¯DockeræœåŠ¡</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">systemctl restart docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹DockeræœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">systemctl status docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¼€æœºè‡ªå¯åŠ¨DockeræœåŠ¡</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">systemctl <span class="built_in">enable</span> docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å–æ¶ˆå¼€æœºè‡ªå¯åŠ¨docker</span></span><br><span class="line">systemctl disenable docker</span><br></pre></td></tr></table></figure>

<h1 id="3ã€é•œåƒå‘½ä»¤"><a href="#3ã€é•œåƒå‘½ä»¤" class="headerlink" title="3ã€é•œåƒå‘½ä»¤"></a>3ã€é•œåƒå‘½ä»¤</h1><p><img src="/../images/docker/image.png" alt="dockeræ¶æ„"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æœ¬åœ°é•œåƒ</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker images</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">REPOSITORYä»“åº“ï¼ŒTAGç‰ˆæœ¬ï¼ŒIMAGE IDé•œåƒIDï¼ŒCREATEDæ‹‰å–æ—¶é—´ï¼ŒSIZEå­˜å‚¨ç©ºé—´</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æœç´¢è¿œç¨‹é•œåƒ</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker search &lt;repository_name&gt;</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker search mysql    <span class="comment">#ä¸¾ä¾‹ï¼šæœç´¢mysql</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤é•œåƒ</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker rmi &lt;IMAGE ID|REPOSITORY:TAG &gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‹‰å–é•œåƒï¼šè¿œç¨‹-&gt;æœ¬åœ°</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker pull &lt;REPOSITORY:TAG&gt;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Docker Hubå®˜ç½‘æ‰¾æŒ‡å®šç‰ˆæœ¬å·ï¼šhttps://hub-stage.docker.com/</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker pull mysql:8.0    <span class="comment">#ä¸¾ä¾‹ï¼šä¸‹è½½æŒ‡å®šç‰ˆæœ¬</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ¨é€é•œåƒï¼šæœ¬åœ°-&gt;è¿œç¨‹</span></span><br><span class="line">docker push</span><br></pre></td></tr></table></figure>

<h1 id="4ã€å®¹å™¨å‘½ä»¤"><a href="#4ã€å®¹å™¨å‘½ä»¤" class="headerlink" title="4ã€å®¹å™¨å‘½ä»¤"></a>4ã€å®¹å™¨å‘½ä»¤</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker ps           <span class="comment">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker ps -a        <span class="comment">#æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºå®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–¹å¼ä¸€ï¼šdocker runä¸€æ­¥å®Œæˆâ€œåˆ›å»º+å¯åŠ¨â€ï¼Œæœ€ç®€å•ã€æœ€å¸¸ç”¨</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker run -it --name=&lt;name&gt; &lt;REPOSITORY:TAG&gt; /bin/bash <span class="comment">#åˆ›å»ºå¹¶è¿›å…¥å®¹å™¨å†…éƒ¨</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">docker run -<span class="built_in">id</span> --name=&lt;name&gt; &lt;REPOSITORY:TAG&gt;           <span class="comment">#åˆ›å»ºå®¹å™¨å¹¶åå°è¿è¡Œ</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-iï¼šä¿æŒå®¹å™¨è¿è¡Œã€‚é€šå¸¸ä¸-tåŒæ—¶ä½¿ç”¨ã€‚åŠ å…¥itè¿™ä¸¤ä¸ªå‚æ•°åï¼Œå®¹å™¨åˆ›å»ºåè‡ªåŠ¨è¿›å…¥å®¹å™¨ä¸­ï¼Œé€€å‡ºå®¹å™¨åï¼Œå®¹å™¨è‡ªåŠ¨å…³é—­</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-tï¼šä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸-iåŒæ—¶ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-dï¼šä»¥å®ˆæŠ¤ï¼ˆåå°ï¼‰æ¨¡å¼è¿è¡Œå®¹å™¨ã€‚åˆ›å»ºä¸€ä¸ªå®¹å™¨åœ¨åå°è¿è¡Œï¼Œéœ€è¦ä½¿ç”¨dockerexecè¿›å…¥å®¹å™¨ã€‚é€€å‡ºåï¼Œå®¹å™¨ä¸ä¼šå…³é—­ã€‚</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-itï¼šåˆ›å»ºçš„å®¹å™¨ä¸€ä¸€èˆ¬ç§°ä¸ºäº¤äº’å¼å®¹å™¨ï¼Œ<span class="built_in">id</span>åˆ›å»ºçš„å®¹å™¨èˆ¬ç§°ä¸ºå®ˆæŠ¤å¼å®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-p:å°†å®¿ä¸»æœºç«¯å£ä¸å®¹å™¨ç«¯å£æ˜ å°„ï¼Œï¼Œå†’å·å·¦ä¾§æ˜¯å®¿ä¸»æœºç«¯å£ï¼Œå³ä¾§æ˜¯å®¹å™¨ç«¯å£</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">--nameï¼šä¸ºåˆ›å»ºçš„å®¹å™¨å‘½åã€‚</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–¹å¼äºŒï¼šåˆ†ä¸¤æ­¥ï¼šdocker create + docker startï¼ˆå…ˆå»ºåå¯ï¼‰ï¼Œå¯åœ¨å¯åŠ¨å‰æ”¹é…ç½®ã€æŒ‚å·ã€åšæ£€æŸ¥</span></span><br><span class="line">docker run --gpus all -v /host/path:/container/path -p &lt;port&gt;:&lt;inner_port&gt;  --name=&lt;continaer_name&gt; -it &lt;REPOSITORY:TAG&gt; [/path/script.sh]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker start &lt;NAMES|CONTAINER ID&gt;	</span><br><span class="line">docker start $(docker ps -aq)  #å¯åŠ¨æ‰€æœ‰å®¹å™¨</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…³é—­æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker stop &lt;NAMES|CONTAINER ID&gt;</span><br><span class="line">docker stop $(docker ps -q)	   #å…³é—­æ‰€æœ‰å®¹å™¨</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker exec -it &lt;NAMES|CONTAINER ID&gt; /bin/bash</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-itï¼šç»™å½“å‰è¿›å…¥çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªæ ‡å‡†è¾“å…¥ã€è¾“å‡ºç»ˆç«¯ï¼Œå…è®¸æˆ‘ä»¬ä¸å®¹å™¨äº¤äº’</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">bashï¼šè¿›å…¥å®¹å™¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œbashæ˜¯ä¸€ä¸ªlinuxç»ˆç«¯äº¤äº’å‘½ä»¤</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker rm &lt;NAMES|CONTAINER ID&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span></span><br><span class="line">docker logs</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æš‚åœå®¹å™¨</span></span><br><span class="line">docker pause &lt;NAMES|CONTAINER ID&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æš‚åœ-&gt;è¿è¡Œ</span></span><br><span class="line">docker unpause &lt;NAMES|CONTAINER ID&gt;</span><br></pre></td></tr></table></figure>

<h1 id="5ã€é•œåƒçš„æ‰“åŒ…ä¸åŠ è½½"><a href="#5ã€é•œåƒçš„æ‰“åŒ…ä¸åŠ è½½" class="headerlink" title="5ã€é•œåƒçš„æ‰“åŒ…ä¸åŠ è½½"></a>5ã€é•œåƒçš„æ‰“åŒ…ä¸åŠ è½½</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹å®¹å™¨</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®¹å™¨æ‰“åŒ…ä¸ºé•œåƒ</span></span><br><span class="line">docker commit &lt;container_name&gt; &lt;image_name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#1.æŸ¥çœ‹æœ¬åœ°é•œåƒ</span></span><br><span class="line">docker images</span><br><span class="line"><span class="comment">#æ‰¾åˆ°ä½ è¦å¯¼å‡ºçš„é•œåƒçš„ REPOSITORY å’Œ TAGï¼Œæ¯”å¦‚ my-app:latest</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.å¯¼å‡ºé•œåƒåˆ°æŒ‡å®šè·¯å¾„çš„taræ–‡ä»¶</span></span><br><span class="line">docker save -o &lt;/path/image_name.tar&gt; &lt;REPOSITORY:TAG&gt;</span><br><span class="line">docker save -o /path/to/your/usb/my-app.tar my-app:latest</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®¿ä¸»æœºå¯¼å…¥é•œåƒ</span></span><br><span class="line">docker load -i &lt;/path/image_name.tar&gt;</span><br><span class="line">docker load -i /path/to/usb/my-app.tar</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯é€‰ï¼šå¦‚æœé•œåƒå¾ˆå¤§ï¼Œå¯å‹ç¼©é•œåƒï¼Œç„¶åæ”¾åˆ°ç›®æ ‡æœºå™¨ä¸Šè§£å‹</span></span><br><span class="line">gzip my-app.tar</span><br><span class="line">unzip my-app.tar.gz</span><br></pre></td></tr></table></figure>

<h1 id="5ã€å®¹å™¨å·"><a href="#5ã€å®¹å™¨å·" class="headerlink" title="5ã€å®¹å™¨å·"></a>5ã€å®¹å™¨å·</h1><p><strong>ä¸ä¾¿äºä¿®æ”¹</strong>ï¼šå½“æˆ‘ä»¬è¦ä¿®æ”¹å®¹å™¨å†…çš„å†…å®¹æ—¶ï¼Œéœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨ä¿®æ”¹ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚</p>
<p><strong>æ•°æ®ä¸å¯å¤ç”¨</strong>ï¼šåœ¨å®¹å™¨å†…çš„ä¿®æ”¹å¯¹å¤–æ˜¯ä¸å¯è§çš„ã€‚æ‰€æœ‰ä¿®æ”¹å¯¹æ–°åˆ›å»ºçš„å®¹å™¨æ˜¯ä¸å¯å¤ç”¨çš„ã€‚</p>
<p><strong>å‡çº§ç»´æŠ¤å›°éš¾</strong>ï¼šæ•°æ®åœ¨å®¹å™¨å†…ï¼Œå¦‚æœè¦å‡çº§å®¹å™¨å¿…ç„¶åˆ é™¤æ—§å®¹å™¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½è·Ÿç€åˆ é™¤äº†</p>
<p>å®¹å™¨å·ï¼ˆVolumeï¼‰æ˜¯ Docker æä¾›çš„æ ¸å¿ƒæ•°æ®æŒä¹…åŒ–æœºåˆ¶ï¼Œæ˜¯ä¸€ä¸ªå®¹å™¨è™šæ‹Ÿç›®å½•æŒ‡å‘å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸­çš„æŸä¸ªç›®ï¼Œå¯ç¡®ä¿å®¹å™¨å†…æ•°æ®åœ¨å®¹å™¨é”€æ¯åä¾ç„¶ä¿ç•™ï¼Œå¹¶æ”¯æŒå®¹å™¨é—´å…±äº«æ•°æ®</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç‰¹ç‚¹ä¸ä½¿ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å‘½åå·</strong></td>
<td>ç”± Docker ç®¡ç†ï¼Œæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ”¯æŒæ•°æ®æŒä¹…åŒ–å’Œå®¹å™¨é—´å…±äº«ã€‚</td>
</tr>
<tr>
<td><strong>ç»‘å®šæŒ‚è½½</strong></td>
<td>å°†å®¿ä¸»æœºç›®å½•ç›´æ¥æ˜ å°„åˆ°å®¹å™¨ï¼Œé€‚åˆå¼€å‘å’Œè°ƒè¯•ï¼Œè·¯å¾„éœ€ç»å¯¹è·¯å¾„ã€‚</td>
</tr>
<tr>
<td><strong>åŒ¿åå·</strong></td>
<td>æœªæŒ‡å®šåç§°çš„å·ï¼Œç”± Docker è‡ªåŠ¨åˆ›å»ºï¼Œé€‚åˆä¸´æ—¶æ•°æ®å­˜å‚¨ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºå‘½åå·</span></span><br><span class="line">docker volume create my_volume</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å·åˆ—è¡¨ï¼š</span></span><br><span class="line">docker volume ls</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å·è¯¦æƒ…ï¼š</span></span><br><span class="line">docker volume inspect my_volume</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤æœªä½¿ç”¨çš„volume</span></span><br><span class="line">docker volume prune</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šçš„volume</span></span><br><span class="line">docker volume rm my_volume</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‚è½½å·åˆ°å®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‘½åå·æŒ‚è½½ï¼š</span></span><br><span class="line">docker run -d -v my_volume:/data &lt;continaer_name&gt;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç»‘å®šæŒ‚è½½ï¼ˆå®¿ä¸»æœºç›®å½•åˆ°å®¹å™¨ï¼‰ï¼š</span></span><br><span class="line">docker run -it --privileged=true -v /host/path:/container/path &lt;image&gt;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åªè¯»æŒ‚è½½ï¼ˆå®¹å™¨å†…åªè¯»ï¼‰</span></span><br><span class="line">docker run -d -v my_volume:/data:ro nginx</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®¹å™¨é—´å…±äº«å·</span></span><br><span class="line">docker run -d -v my_volume:/data --name container1 nginx</span><br><span class="line">docker run -d --volumes-from container1 --name container2 nginx</span><br></pre></td></tr></table></figure>

<h1 id="6ã€Dockerfile"><a href="#6ã€Dockerfile" class="headerlink" title="6ã€Dockerfile"></a>6ã€Dockerfile</h1><p>Dockerfileçš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼ˆæ„å»ºé•œåƒçš„è¯´æ˜ä¹¦ï¼‰ï¼Œé€šè¿‡æŒ‡ä»¤æè¿°æ„å»ºé•œåƒçš„è¿‡ç¨‹ï¼Œä½†è¯´æ˜ä¹¦é‡Œå†™çš„æ­¥éª¤ï¼ˆæ¯”å¦‚ <code>COPY ./app /app</code>ï¼‰éœ€è¦ä¾èµ–ä½ æœ¬åœ°å·²æœ‰çš„é¡¹ç›®ç›®å½•ç»“æ„ã€‚</p>
<table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>FROM</code></td>
<td>æŒ‡å®šåŸºç¡€é•œåƒï¼ˆå¦‚ <code>ubuntu</code>, <code>node:14</code>, <code>python:3.9-slim</code> ç­‰ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>RUN</code></td>
<td>åœ¨é•œåƒä¸­æ‰§è¡Œå‘½ä»¤ï¼ˆå¦‚å®‰è£…è½¯ä»¶åŒ…ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>COPY</code></td>
<td>å°†æœ¬åœ°æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒä¸­ï¼ˆæ¨èç”¨äºæ–‡ä»¶&#x2F;ä»£ç ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>ADD</code></td>
<td>ç±»ä¼¼ <code>COPY</code>ï¼Œä½†æ”¯æŒè¿œç¨‹ URL å’Œè‡ªåŠ¨è§£å‹å‹ç¼©åŒ…ï¼ˆä¸æ¨èä½¿ç”¨è¿œç¨‹ URLï¼‰ã€‚</td>
</tr>
<tr>
<td><code>WORKDIR</code></td>
<td>è®¾ç½®å·¥ä½œç›®å½•ï¼ˆç±»ä¼¼ <code>cd</code> å‘½ä»¤ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>EXPOSE</code></td>
<td>å£°æ˜å®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ï¼ˆéœ€é…åˆ <code>-p</code> å‚æ•°æ˜ å°„åˆ°å®¿ä¸»æœºï¼‰ã€‚</td>
</tr>
<tr>
<td><code>ENV</code></td>
<td>è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚ <code>ENV PATH=/usr/local/bin:$PATH</code>ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>CMD</code></td>
<td>å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ï¼ˆå¯è¢« <code>docker run</code> å‚æ•°è¦†ç›–ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>ENTRYPOINT</code></td>
<td>ç±»ä¼¼ <code>CMD</code>ï¼Œä½†ä¸ä¼šè¢« <code>docker run</code> å‚æ•°è¦†ç›–ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dockerfile åŸºæœ¬ç»“æ„</span></span><br><span class="line"><span class="comment"># 1. æŒ‡å®šåŸºç¡€é•œåƒ</span></span><br><span class="line">FROM ubuntu:20.04</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ç»´æŠ¤è€…ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">LABEL maintainer=<span class="string">&quot;your_email@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. è®¾ç½®å·¥ä½œç›®å½•ï¼ˆåç»­å‘½ä»¤åœ¨æ­¤ç›®å½•æ‰§è¡Œï¼‰</span></span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. å¤åˆ¶æœ¬åœ°æ–‡ä»¶åˆ°é•œåƒ</span></span><br><span class="line">COPY . /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. è¿è¡Œå‘½ä»¤ï¼ˆå¦‚å®‰è£…ä¾èµ–ï¼‰</span></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y python3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. æš´éœ²ç«¯å£ï¼ˆå®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ï¼‰</span></span><br><span class="line">EXPOSE 8000</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line">CMD [<span class="string">&quot;python3&quot;</span>, <span class="string">&quot;app.py&quot;</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‡è®¾æœ¬åœ°æœ‰ä¸€ä¸ªdockerfileï¼Œè¿è¡Œåˆ›å»ºå®¹å™¨</span></span><br><span class="line">docker build -t my_image_name:tag .</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨ docker history æŸ¥çœ‹é•œåƒæ„å»ºå†å²ï¼š</span></span><br><span class="line">docker <span class="built_in">history</span> --no-trunc é•œåƒåæˆ–ID</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ²¡æœ‰å®˜æ–¹æˆ–å¯é çš„æ–¹æ³•å¯ä»¥ä»é•œåƒæˆ–å®¹å™¨ä¸­â€œåŸæ ·å¯¼å‡ºâ€åŸå§‹çš„ Dockerfile</span></span><br><span class="line"><span class="comment"># å¯ä¾é ç¬¬ä¸‰æ–¹å·¥å…·å®ç°ç±»ä¼¼äºdockerfile</span></span><br><span class="line"><span class="comment"># ç”¨ dfimage æˆ– dive å·¥å…·è¿˜åŸ Dockerfile</span></span><br><span class="line">docker run -v /var/run/docker.sock:/var/run/docker.sock --<span class="built_in">rm</span> alpine/dfimage é•œåƒå:tag</span><br></pre></td></tr></table></figure>

<h1 id="7ã€DockerCompose"><a href="#7ã€DockerCompose" class="headerlink" title="7ã€DockerCompose"></a>7ã€DockerCompose</h1><p>Docker Compose æ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨çš„å‘½ä»¤è¡Œå·¥å…·</p>
<p>æ ¸å¿ƒæ˜¯ä¸€ä¸ª <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œå®ƒæè¿°äº†æ•´ä¸ªåº”ç”¨çš„æœåŠ¡ã€ç½‘ç»œã€å·ç­‰é…ç½®ã€‚é€šè¿‡æŒ‡ä»¤å®šä¹‰é›†ç¾¤ä¸­çš„æ¯ä¸ªå®¹å™¨å¦‚ä½•è¿è¡Œã€‚</p>
<p>Compose ä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>ä½¿ç”¨ Dockerfile å®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒã€‚</li>
<li>ä½¿ç”¨ docker-compose.yml å®šä¹‰æ„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éš”ç¦»ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œã€‚</li>
<li>æœ€åï¼Œæ‰§è¡Œ docker-compose up å‘½ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>
</ul>
<h1 id="8ã€é•œåƒä»“åº“"><a href="#8ã€é•œåƒä»“åº“" class="headerlink" title="8ã€é•œåƒä»“åº“"></a>8ã€é•œåƒä»“åº“</h1><p>å…¬æœ‰ï¼šDockerHubã€é˜¿é‡Œäº‘é•œåƒç­‰</p>
<p>ç§æœ‰é•œåƒï¼šæœ¬åœ°æ­å»ºç§æœ‰Docker Registry</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;builder&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;gc&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;defaultKeepStorage&quot;</span>: <span class="string">&quot;20GB&quot;</span>,</span><br><span class="line">      <span class="string">&quot;enabled&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;experimental&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;https://docker.xuanyuan.me&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://mirror.baidubce.com&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#æ·»åŠ é•œåƒ</span></span><br><span class="line"><span class="variable">$sudo</span> <span class="built_in">mkdir</span> -p /etc/docker</span><br><span class="line"><span class="variable">$sudo</span> nano /etc/docker/daemon.json</span><br><span class="line"></span><br><span class="line">æ·»åŠ ä»¥ä¸‹å†…å®¹</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;https://docker.xuanyuan.me&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://mirror.baidubce.com&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯</span></span><br><span class="line"><span class="variable">$sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="variable">$sudo</span> systemctl restart docker</span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•</span></span><br><span class="line"><span class="variable">$docker</span> run hello-world</span><br><span class="line">docker run -it --gpus all --name pytorch_env ubuntu:22.04 /bin/bash</span><br></pre></td></tr></table></figure>

<h1 id="9ã€ä½¿ç”¨"><a href="#9ã€ä½¿ç”¨" class="headerlink" title="9ã€ä½¿ç”¨"></a>9ã€ä½¿ç”¨</h1><h2 id="9-1-å®‰è£…æ˜¾å¡ç¯å¢ƒ"><a href="#9-1-å®‰è£…æ˜¾å¡ç¯å¢ƒ" class="headerlink" title="9.1 å®‰è£…æ˜¾å¡ç¯å¢ƒ"></a>9.1 å®‰è£…æ˜¾å¡ç¯å¢ƒ</h2><p><strong>æ˜¾å¡é©±åŠ¨</strong> â†’ <strong>CUDA</strong> <strong>â†’ cuDNN â†’</strong> <strong>æ·±åº¦å­¦ä¹ æ¡†æ¶</strong>ï¼ˆå¦‚PyTorch&#x2F;TensorFlowï¼‰</p>
<ol>
<li><strong>æ˜¾å¡å‹å·</strong>éœ€è¦é…ç½®æ˜¾å¡é©±åŠ¨Driver Version</li>
<li><strong>æ˜¾å¡é©±åŠ¨</strong>Driver Versionæ˜¯æ˜¾å¡çš„é©±åŠ¨ç¨‹åºï¼Œä½¿ç”¨<code>nvidia-smi</code>æŸ¥è¯¢æœ€é«˜æ”¯æŒçš„é©±åŠ¨ç‰ˆæœ¬å·</li>
<li><strong>CUDA</strong> <strong>Toolkit</strong>ï¼ˆå«<code>nvcc</code>ï¼‰åœ¨é©±åŠ¨ä¹‹ä¸Šæä¾›é€šç”¨è®¡ç®—èƒ½åŠ›ï¼ˆåŸºç¡€çš„è®¡ç®—èƒ½åŠ›ï¼‰</li>
<li><strong>cuDNN</strong> æ˜¯åŸºäº CUDA çš„æ·±åº¦å­¦ä¹ ä¸“ç”¨åŠ é€Ÿåº“ï¼ˆæ›´å¼ºå¤§çš„è®¡ç®—èƒ½åŠ›ï¼‰ï¼Œç‰ˆæœ¬å¿…é¡»ä¸ CUDA ç‰ˆæœ¬åŒ¹é…ï¼Œå®˜ç½‘ä¸ŠæŸ¥</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢æ˜¾å¡å‹å·</span></span><br><span class="line">lspci | grep -i nvidia</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢æœ€é«˜æ”¯æŒçš„ç‰ˆæœ¬</span><br><span class="line">nvidia-smi</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢cudaç‰ˆæœ¬</span><br><span class="line">nvcc --version</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run --gpus all -v /home/docker_data_24/lxt:/root/common-dir -p 63005:22  --name=lxt -it ubuntun22.04-cuda12.8.1-conda-ssh:20250812image /root/start.sh</span><br><span class="line"></span><br><span class="line">docker run --gpus all -it --name tmp_build nvidia/cuda:12.8.1-cudnn-devel-ubuntu22.04 bash</span><br></pre></td></tr></table></figure>

<h2 id="9-2-æ·±åº¦å­¦ä¹ ç¯å¢ƒå¤šç”¨æˆ·é…ç½®"><a href="#9-2-æ·±åº¦å­¦ä¹ ç¯å¢ƒå¤šç”¨æˆ·é…ç½®" class="headerlink" title="9.2 æ·±åº¦å­¦ä¹ ç¯å¢ƒå¤šç”¨æˆ·é…ç½®"></a>9.2 æ·±åº¦å­¦ä¹ ç¯å¢ƒå¤šç”¨æˆ·é…ç½®</h2><p>ä½¿ç”¨dockeré…ç½®å¤šäººéš”ç¦»çš„æ·±åº¦å­¦ä¹ ç¯å¢ƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ‹‰å–é•œåƒ</span></span><br><span class="line"><span class="comment">#DockerHubï¼šhttps://hub.docker.com/r/nvidia/cuda</span></span><br><span class="line">docker pull nvidia/cuda:12.8.1-cudnn-devel-ubuntu22.04</span><br><span class="line"><span class="comment">#docker pull --platform linux/amd64 nvidia/cuda:12.8.1-cudnn-devel-ubuntu22.04</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨ä¸´æ—¶å®¹å™¨</span></span><br><span class="line">docker run --gpus all -it --name tmp_build nvidia/cuda:12.8.1-cudnn-devel-ubuntu22.04 bash</span><br><span class="line"><span class="comment">#docker run --name cuda-conda-build --gpus all -it -p 63000:22 nvidia/cuda:12.8.1-cudnn-devel-ubuntu22.04 bash</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">#å®¹å™¨å†…å®‰è£…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å…¶ä»–å·¥å…·</span></span><br><span class="line">apt-get install -y openssh-server <span class="built_in">sudo</span> vim git htop</span><br><span class="line"><span class="comment"># ç¡®ä¿ sshd èƒ½å¯åŠ¨</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /var/run/sshd</span><br><span class="line"></span><br><span class="line">é€€å‡ºå¹¶æäº¤ä¸ºæ–°é•œåƒ</span><br><span class="line"><span class="built_in">exit</span>   <span class="comment"># é€€å‡ºå®¹å™¨å›åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker commit &lt;container_name&gt; &lt;image_name:tag&gt;</span><br><span class="line">docker commit tmp_build 20250809-ubuntun2204-conda-pytorch-cuda12.8-python3.12</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> &gt; /root/start.sh &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 1) åˆ›å»º sshd éœ€è¦çš„ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /var/run/sshd</span><br><span class="line"><span class="comment"># 2) å…è®¸ root è¿œç¨‹ç™»å½•ï¼ˆæµ‹è¯•ç¯å¢ƒç”¨ï¼Œç”Ÿäº§è¯·å»ºæ–°ç”¨æˆ·ï¼‰</span></span><br><span class="line">sed -i <span class="string">&#x27;s/#PermitRootLogin prohibit-password/PermitRootLogin yes/&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line"><span class="comment"># 3) è®¾ç½® root å¯†ç ï¼ˆæŠŠ 123456 æ¢æˆä½ è‡ªå·±çš„ï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;root:root123456&#x27;</span> | chpasswd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4) å‰å°å¯åŠ¨ sshdï¼ˆ-D è¡¨ç¤ºä¸ daemonizeï¼Œä¿æŒå®¹å™¨æ´»ç€ï¼‰</span></span><br><span class="line"><span class="built_in">exec</span> /usr/sbin/sshd -D</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

        </div>

      <div style="background-color: #f9f9f9; border-left: 5px solid #007acc; padding: 10px; margin: 20px 0;">
        <strong>ğŸ“¢ è½¬è½½é¡»çŸ¥ï¼š</strong>æœ¬ç«™ç‚¹å†…å®¹é‡‡ç”¨
    <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥å’Œä½œè€…ä¿¡æ¯
      </div>


        <!--  -->
        <section class="post-tags">
            <div>
                <span>æ ‡ç­¾:</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E5%90%8E%E7%AB%AF/"># åç«¯</a>
                    
                        <a href="/tags/%E8%BF%90%E7%BB%B4/"># è¿ç»´</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">è¿”å›</a>
                <span>Â· </span>
                <a href="/">ä¸»é¡µ</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2025/08/24/MySQL%E7%AC%94%E8%AE%B0/">MySQLç¬”è®°</a>
            
            
            <a class="next" rel="next" href="/2025/08/23/Linux%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AE%A1%E7%90%86/">Linuxä¸æœåŠ¡å™¨ç®¡ç†</a>
            
        </section>


    </article>
</div>

            </div>
            <!-- <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© Henry Li | Powered by Hexo</a> & Chic</a></span>
    </div>
</footer> -->
<!-- <footer id="footer" class="footer">
  <div class="copyright">
    <span>Â© 2025 Henry Li | Powered by Hexo</a> & Chic</a></span>
    <br>
    <span id="busuanzi_container_site_uv">æœ¬ç«™æ€»è®¿å®¢æ•°: <span id="busuanzi_value_site_uv"></span> äºº,</span>
    <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span> æ¬¡</span>
    <br>
    <span> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">
      <img alt="CC BY-NC 4.0" style="position:relative; top:2px;" src="https://licensebuttons.net/l/by-nc/4.0/80x15.png" />
      </a>é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œæœ¬ç«™ç‚¹å†…å®¹é‡‡ç”¨<a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
    CC BY-NC-SA 4.0 åè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
<span>
  </div>

  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer> -->
<footer id="footer" class="footer" style="font-size:0.3em;line-height:1.5">
  <br>
  <div class="copyright">
    <span>Â© 2025 Henry Li | Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank" rel="noopener">Chic</a></span>
    <br>
    <span id="busuanzi_container_site_uv">æœ¬ç«™æ€»è®¿å®¢æ•°: <span id="busuanzi_value_site_uv"></span> äºº,</span>
    <span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span> æ¬¡</span>
    <br>
    <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
      <img alt="CC BY-NC-SA 4.0" style="position:relative; top:3px;" src="https://licensebuttons.net/l/by-nc-sa/4.0/80x15.png" />
    </a>æœ¬ç«™ç‚¹å†…å®¹é‡‡ç”¨
    <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
      CC BY-NC-SA 4.0 ç‰ˆæƒåè®®</a>è¿›è¡Œè®¸å¯ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥å’Œä½œè€…ä¿¡æ¯
  </div>

  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</footer>
    </div>
</body>

</html>